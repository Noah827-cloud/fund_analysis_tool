<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>止盈提醒 - 智能基金分析工具</title>
    <link rel="stylesheet" href="resources/tailwind.min.css">
    <script src="resources/anime.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700&family=Noto+Serif+SC:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            min-height: 100vh;
        }
        
        .glass-effect {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .text-gradient {
            background: linear-gradient(135deg, #00d4aa, #4a90e2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .nav-item {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-item:hover {
            color: #00d4aa;
        }
        
        .nav-item::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #00d4aa, #4a90e2);
            transition: width 0.3s ease;
        }
        
        .nav-item:hover::after {
            width: 100%;
        }
        
        .alert-card {
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            transition: all 0.3s ease;
        }
        
        .alert-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .alert-active {
            border-color: rgba(0, 212, 170, 0.5);
            box-shadow: 0 0 20px rgba(0, 212, 170, 0.2);
        }
        
        .alert-triggered {
            border-color: rgba(239, 68, 68, 0.5);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #00d4aa, #4a90e2);
            height: 6px;
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
        }
        
        .status-active { background-color: #10b981; }
        .status-paused { background-color: #f59e0b; }
        .status-triggered { background-color: #ef4444; }
        
        .modal-backdrop {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }
    </style>
</head>
<body class="text-white overflow-x-hidden">
    <!-- 导航栏 -->
    <nav class="fixed top-0 left-0 right-0 z-50 glass-effect">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-8">
                    <h1 class="text-2xl font-bold text-gradient">智能基金分析工具</h1>
                    <div class="hidden md:flex space-x-6">
                        <a href="index.html" class="nav-item text-gray-300 hover:text-green-400">仪表板</a>
                        <a href="analysis.html" class="nav-item text-gray-300 hover:text-green-400">基金分析</a>
                        <a href="chat.html" class="nav-item text-gray-300 hover:text-green-400">智能对话</a>
                        <a href="alerts.html" class="nav-item text-white hover:text-green-400">止盈提醒</a>
                        <a href="reports.html" class="nav-item text-gray-300 hover:text-green-400">总结报告</a>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button onclick="showAddAlertModal()" class="px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors">
                        添加提醒
                    </button>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- 主要内容 -->
    <main class="pt-20 pb-8">
        <div class="container mx-auto px-6">
            <!-- 页面标题 -->
            <div class="mb-8 fade-in">
                <h1 class="text-3xl font-bold text-white mb-2">止盈提醒管理</h1>
                <p class="text-gray-400">智能监控您的基金收益，及时提醒调仓时机</p>
            </div>
            
            <!-- 统计概览 -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="glass-effect rounded-xl p-6 fade-in">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-gray-400 text-sm font-medium">活跃提醒</h3>
                        <span class="status-indicator status-active"></span>
                    </div>
                    <p class="text-2xl font-bold text-white">8</p>
                    <p class="text-xs text-gray-400 mt-1">正在监控</p>
                </div>
                
                <div class="glass-effect rounded-xl p-6 fade-in">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-gray-400 text-sm font-medium">今日触发</h3>
                        <span class="status-indicator status-triggered"></span>
                    </div>
                    <p class="text-2xl font-bold text-white">2</p>
                    <p class="text-xs text-gray-400 mt-1">需要关注</p>
                </div>
                
                <div class="glass-effect rounded-xl p-6 fade-in">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-gray-400 text-sm font-medium">已暂停</h3>
                        <span class="status-indicator status-paused"></span>
                    </div>
                    <p class="text-2xl font-bold text-white">3</p>
                    <p class="text-xs text-gray-400 mt-1">暂停监控</p>
                </div>
                
                <div class="glass-effect rounded-xl p-6 fade-in">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-gray-400 text-sm font-medium">成功率</h3>
                        <svg class="h-5 w-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <p class="text-2xl font-bold text-white">85%</p>
                    <p class="text-xs text-gray-400 mt-1">历史表现</p>
                </div>
            </div>
            
            <!-- 提醒列表 -->
            <div class="glass-effect rounded-xl p-6 fade-in">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-semibold text-white">提醒列表</h2>
                    <div class="flex items-center space-x-4">
                        <select id="filter-status" class="bg-gray-700 text-white text-sm rounded px-3 py-2">
                            <option value="all">全部状态</option>
                            <option value="active">活跃</option>
                            <option value="triggered">已触发</option>
                            <option value="paused">已暂停</option>
                        </select>
                        <select id="sort-by" class="bg-gray-700 text-white text-sm rounded px-3 py-2">
                            <option value="created">创建时间</option>
                            <option value="trigger">触发时间</option>
                            <option value="profit">收益排序</option>
                        </select>
                    </div>
                </div>
                
                <div id="alerts-list" class="space-y-4">
                    <!-- 提醒卡片将通过JavaScript动态生成 -->
                </div>
            </div>
            
            <!-- 历史记录 -->
            <div class="mt-8 glass-effect rounded-xl p-6 fade-in">
                <h2 class="text-xl font-semibold text-white mb-6">执行历史</h2>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b border-gray-700">
                                <th class="text-left py-3 text-gray-400">时间</th>
                                <th class="text-left py-3 text-gray-400">基金名称</th>
                                <th class="text-left py-3 text-gray-400">提醒类型</th>
                                <th class="text-left py-3 text-gray-400">触发条件</th>
                                <th class="text-left py-3 text-gray-400">当前值</th>
                                <th class="text-left py-3 text-gray-400">状态</th>
                                <th class="text-left py-3 text-gray-400">操作</th>
                            </tr>
                        </thead>
                        <tbody id="history-table">
                            <!-- 历史记录将通过JavaScript动态生成 -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>
    
    <!-- 添加提醒模态框 -->
    <div id="add-alert-modal" class="fixed inset-0 z-50 hidden">
        <div class="modal-backdrop absolute inset-0" onclick="closeAddAlertModal()"></div>
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="glass-effect rounded-xl max-w-md w-full p-6">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-bold text-white">添加止盈提醒</h2>
                    <button onclick="closeAddAlertModal()" class="text-gray-400 hover:text-white">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                
                <form id="alert-form" class="space-y-4">
                    <div>
                        <label class="block text-gray-400 text-sm mb-2">选择基金</label>
                        <select id="alert-fund" class="w-full bg-gray-700 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400">
                            <option value="001071">华夏恒生ETF联接A</option>
                            <option value="003834">华夏能源革新股票A</option>
                            <option value="005827">易方达蓝筹精选混合</option>
                            <option value="161725">招商中证白酒指数A</option>
                            <option value="110011">易方达中小盘混合</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-gray-400 text-sm mb-2">提醒类型</label>
                        <select id="alert-type" class="w-full bg-gray-700 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400">
                            <option value="profit">收益止盈</option>
                            <option value="loss">亏损止损</option>
                            <option value="price">价格提醒</option>
                            <option value="nav">净值提醒</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-gray-400 text-sm mb-2">触发条件</label>
                        <div class="flex space-x-2">
                            <select id="alert-condition" class="flex-1 bg-gray-700 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400">
                                <option value="above">高于</option>
                                <option value="below">低于</option>
                                <option value="equal">等于</option>
                            </select>
                            <input type="number" id="alert-value" placeholder="数值" step="0.01" class="flex-1 bg-gray-700 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400">
                            <select id="alert-unit" class="bg-gray-700 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400">
                                <option value="percent">%</option>
                                <option value="amount">元</option>
                            </select>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-gray-400 text-sm mb-2">提醒方式</label>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" id="alert-email" class="mr-2" checked>
                                <span class="text-sm">邮件提醒</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" id="alert-sms" class="mr-2">
                                <span class="text-sm">短信提醒</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" id="alert-app" class="mr-2" checked>
                                <span class="text-sm">应用推送</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="flex gap-3 pt-4">
                        <button type="button" onclick="closeAddAlertModal()" class="flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded transition-colors">
                            取消
                        </button>
                        <button type="submit" class="flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition-colors">
                            添加提醒
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- 页脚 -->
    <footer class="mt-16 py-8 border-t border-gray-700">
        <div class="container mx-auto px-6 text-center">
            <p class="text-gray-400 text-sm">© 2025 智能基金分析工具. 专业的投资管理平台，助力您的财富增长.</p>
        </div>
    </footer>
    
    <script>
        // 模拟提醒数据
        const alertsData = [
            {
                id: 1,
                fundName: '华夏恒生ETF联接A',
                fundCode: '001071',
                type: 'profit',
                condition: 'above',
                targetValue: 10,
                currentValue: 6.95,
                unit: 'percent',
                status: 'active',
                createdAt: '2025-01-15 10:30',
                lastTriggered: null
            },
            {
                id: 2,
                fundName: '华夏能源革新股票A',
                fundCode: '003834',
                type: 'profit',
                condition: 'above',
                targetValue: 15,
                currentValue: 18.5,
                unit: 'percent',
                status: 'triggered',
                createdAt: '2025-01-10 14:20',
                lastTriggered: '2025-01-22 09:15'
            },
            {
                id: 3,
                fundName: '易方达蓝筹精选混合',
                fundCode: '005827',
                type: 'loss',
                condition: 'below',
                targetValue: -5,
                currentValue: 4.90,
                unit: 'percent',
                status: 'active',
                createdAt: '2025-01-08 16:45',
                lastTriggered: null
            },
            {
                id: 4,
                fundName: '招商中证白酒指数A',
                fundCode: '161725',
                type: 'profit',
                condition: 'above',
                targetValue: 20,
                currentValue: 6.95,
                unit: 'percent',
                status: 'paused',
                createdAt: '2025-01-05 11:30',
                lastTriggered: null
            },
            {
                id: 5,
                fundName: '易方达中小盘混合',
                fundCode: '110011',
                type: 'nav',
                condition: 'above',
                targetValue: 4.5,
                currentValue: 4.12,
                unit: 'amount',
                status: 'active',
                createdAt: '2025-01-03 13:20',
                lastTriggered: null
            }
        ];
        
        // 页面加载动画
        document.addEventListener('DOMContentLoaded', function() {
            anime({
                targets: '.fade-in',
                opacity: [0, 1],
                translateY: [20, 0],
                duration: 800,
                delay: anime.stagger(100),
                easing: 'easeOutQuart'
            });
            
            renderAlerts();
            renderHistory();
            setupEventListeners();
        });
        
        // 渲染提醒列表
        function renderAlerts() {
            const alertsList = document.getElementById('alerts-list');
            alertsList.innerHTML = '';
            
            alertsData.forEach(alert => {
                const alertCard = createAlertCard(alert);
                alertsList.appendChild(alertCard);
            });
        }
        
        // 创建提醒卡片
        function createAlertCard(alert) {
            const div = document.createElement('div');
            div.className = `alert-card p-4 ${alert.status === 'active' ? 'alert-active' : alert.status === 'triggered' ? 'alert-triggered' : ''}`;
            
            const progress = Math.min((alert.currentValue / alert.targetValue) * 100, 100);
            const statusText = {
                'active': '活跃',
                'triggered': '已触发',
                'paused': '已暂停'
            };
            
            const typeText = {
                'profit': '收益止盈',
                'loss': '亏损止损',
                'price': '价格提醒',
                'nav': '净值提醒'
            };
            
            div.innerHTML = `
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center space-x-3">
                        <span class="status-indicator status-${alert.status}"></span>
                        <div>
                            <h3 class="text-white font-medium">${alert.fundName}</h3>
                            <p class="text-gray-400 text-sm">${alert.fundCode}</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="px-2 py-1 bg-blue-600 text-white text-xs rounded">${typeText[alert.type]}</span>
                        <button onclick="toggleAlert(${alert.id})" class="text-gray-400 hover:text-white">
                            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                        </button>
                        <button onclick="deleteAlert(${alert.id})" class="text-gray-400 hover:text-red-400">
                            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-3">
                    <div>
                        <p class="text-gray-400 text-sm">目标${alert.type === 'loss' ? '止损' : '止盈'}</p>
                        <p class="text-white font-semibold">${alert.targetValue}${alert.unit === 'percent' ? '%' : '元'}</p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">当前${alert.type === 'loss' ? '亏损' : '收益'}</p>
                        <p class="text-white font-semibold ${alert.currentValue >= 0 ? 'text-green-400' : 'text-red-400'}">
                            ${alert.currentValue >= 0 ? '+' : ''}${alert.currentValue}${alert.unit === 'percent' ? '%' : '元'}
                        </p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">状态</p>
                        <p class="text-white font-semibold">${statusText[alert.status]}</p>
                    </div>
                </div>
                
                <div class="mb-3">
                    <div class="flex justify-between text-sm mb-1">
                        <span class="text-gray-400">完成度</span>
                        <span class="text-white">${progress.toFixed(1)}%</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-2">
                        <div class="progress-bar rounded-full" style="width: ${progress}%"></div>
                    </div>
                </div>
                
                <div class="flex justify-between items-center text-xs text-gray-400">
                    <span>创建时间：${alert.createdAt}</span>
                    ${alert.lastTriggered ? `<span>触发时间：${alert.lastTriggered}</span>` : ''}
                </div>
            `;
            
            return div;
        }
        
        // 渲染历史记录
        function renderHistory() {
            const historyTable = document.getElementById('history-table');
            const historyData = [
                {
                    time: '2025-01-22 09:15',
                    fundName: '华夏能源革新股票A',
                    type: '收益止盈',
                    condition: '收益 > 15%',
                    currentValue: '18.5%',
                    status: '已触发',
                    action: '查看详情'
                },
                {
                    time: '2025-01-21 14:30',
                    fundName: '易方达蓝筹精选混合',
                    type: '净值提醒',
                    condition: '净值 > 1.9',
                    currentValue: '1.8765',
                    status: '未触发',
                    action: '查看详情'
                },
                {
                    time: '2025-01-20 10:45',
                    fundName: '招商中证白酒指数A',
                    type: '收益止盈',
                    condition: '收益 > 8%',
                    currentValue: '6.95%',
                    status: '未触发',
                    action: '查看详情'
                },
                {
                    time: '2025-01-18 15:20',
                    fundName: '华夏恒生ETF联接A',
                    type: '亏损止损',
                    condition: '亏损 < -5%',
                    currentValue: '3.90%',
                    status: '未触发',
                    action: '查看详情'
                }
            ];
            
            historyTable.innerHTML = historyData.map(item => `
                <tr class="border-b border-gray-800">
                    <td class="py-3 text-gray-400">${item.time}</td>
                    <td class="py-3 text-white">${item.fundName}</td>
                    <td class="py-3 text-gray-400">${item.type}</td>
                    <td class="py-3 text-gray-400">${item.condition}</td>
                    <td class="py-3 text-white">${item.currentValue}</td>
                    <td class="py-3">
                        <span class="px-2 py-1 rounded text-xs ${item.status === '已触发' ? 'bg-red-600 text-white' : 'bg-gray-600 text-gray-300'}">
                            ${item.status}
                        </span>
                    </td>
                    <td class="py-3">
                        <button onclick="showToast('详情功能开发中...')" class="text-blue-400 hover:text-blue-300 text-sm">
                            ${item.action}
                        </button>
                    </td>
                </tr>
            `).join('');
        }
        
        // 设置事件监听器
        function setupEventListeners() {
            // 表单提交
            document.getElementById('alert-form').addEventListener('submit', function(e) {
                e.preventDefault();
                addNewAlert();
            });
            
            // 筛选和排序
            document.getElementById('filter-status').addEventListener('change', filterAlerts);
            document.getElementById('sort-by').addEventListener('change', sortAlerts);
        }
        
        // 显示添加提醒模态框
        function showAddAlertModal() {
            document.getElementById('add-alert-modal').classList.remove('hidden');
        }
        
        // 关闭添加提醒模态框
        function closeAddAlertModal() {
            document.getElementById('add-alert-modal').classList.add('hidden');
            document.getElementById('alert-form').reset();
        }
        
        // 添加新提醒
        function addNewAlert() {
            const formData = new FormData(document.getElementById('alert-form'));
            
            const newAlert = {
                id: alertsData.length + 1,
                fundName: document.getElementById('alert-fund').selectedOptions[0].text,
                fundCode: document.getElementById('alert-fund').value,
                type: document.getElementById('alert-type').value,
                condition: document.getElementById('alert-condition').value,
                targetValue: parseFloat(document.getElementById('alert-value').value),
                currentValue: Math.random() * 10, // 模拟当前值
                unit: document.getElementById('alert-unit').value,
                status: 'active',
                createdAt: new Date().toLocaleString('zh-CN'),
                lastTriggered: null
            };
            
            alertsData.push(newAlert);
            renderAlerts();
            closeAddAlertModal();
            showToast('提醒添加成功');
        }
        
        // 切换提醒状态
        function toggleAlert(id) {
            const alert = alertsData.find(a => a.id === id);
            if (alert) {
                if (alert.status === 'active') {
                    alert.status = 'paused';
                } else if (alert.status === 'paused') {
                    alert.status = 'active';
                }
                renderAlerts();
                showToast(`提醒已${alert.status === 'active' ? '开启' : '暂停'}`);
            }
        }
        
        // 删除提醒
        function deleteAlert(id) {
            if (confirm('确定要删除这个提醒吗？')) {
                const index = alertsData.findIndex(a => a.id === id);
                if (index > -1) {
                    alertsData.splice(index, 1);
                    renderAlerts();
                    showToast('提醒已删除');
                }
            }
        }
        
        // 筛选提醒
        function filterAlerts() {
            const filter = document.getElementById('filter-status').value;
            const alertsList = document.getElementById('alerts-list');
            const cards = alertsList.querySelectorAll('.alert-card');
            
            cards.forEach(card => {
                const status = card.querySelector('.status-indicator').className;
                if (filter === 'all' || status.includes(filter)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        // 排序提醒
        function sortAlerts() {
            const sortBy = document.getElementById('sort-by').value;
            
            alertsData.sort((a, b) => {
                switch (sortBy) {
                    case 'created':
                        return new Date(b.createdAt) - new Date(a.createdAt);
                    case 'trigger':
                        return new Date(b.lastTriggered || 0) - new Date(a.lastTriggered || 0);
                    case 'profit':
                        return b.currentValue - a.currentValue;
                    default:
                        return 0;
                }
            });
            
            renderAlerts();
        }
        
        // 显示提示消息
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'fixed top-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg z-50';
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            anime({
                targets: toast,
                translateX: [300, 0],
                opacity: [0, 1],
                duration: 300,
                easing: 'easeOutQuart'
            });
            
            setTimeout(() => {
                anime({
                    targets: toast,
                    translateX: [0, 300],
                    opacity: [1, 0],
                    duration: 300,
                    easing: 'easeInQuart',
                    complete: () => {
                        document.body.removeChild(toast);
                    }
                });
            }, 3000);
        }
    </script>
</body>
</html>
